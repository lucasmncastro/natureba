pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
 x=1
 y=1
 f=false
 s=1
 sp=1
 t=0
 tic=0
end

function _update()
 t+=1
 if t%10==0 then
  tic+=1
  if tic==2 then
   tic=0
  end  
  change_sprites()
 end
 
 nx=x
 ny=y
 if btnp(⬆️) then
 	ny-=1
 end
 if btnp(⬇️) then
 	ny+=1
 end
 if btnp(➡️) then
 	nx+=1
  f=false
 end
 if btnp(⬅️) then
 	nx-=1
 	f=true
 end
 cell=mget(nx+1,ny)
 if fget(cell,0) then
  nx=x
  ny=y
 end
 x=nx
 y=ny
end

function change_sprites()
 for ix=0,127 do
  for iy=0,127 do
   local ic = mget(ix+1,iy)
   if tic==1 then
	   if fget(ic,2) then
	    mset(ix+1,iy,ic-1)
	   end
	  else
	   if fget(ic,1) then
	    mset(ix+1,iy,ic+1)
	   end
	  end
  end
 end
end

function _draw()
	--palt(7,false)
	cls(15)
	map(1)
	spr(sp,x*8,y*8,1,1,f)
	camera((x*8\128)*128,(y*8\128)*128) 
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000008888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000008888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700008808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000008888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000008008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000b0000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000b0000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000bbb00000bbb0000300000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000bbb00000bbb0000030000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000bbbbb000bbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000b0000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccccccccc00000022000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccccccccccc0000222202002222000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccccccccccc202222220022222200000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccc0cccccccc0ccccccccccc020202220202022200000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cc0c0cccccc0c0cccccccccc022222020222222000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccccccccccc022222220222222200000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccccccccccc000202000002020000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccccccccccc000202000002020000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000cccccccccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000ccccccccccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccc0cccccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccc00cccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000707077000000000070707700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00007070700700000000707070070000000007070770000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00070707777700000007070777770000000070707007000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00707070000000000070707000000000000707077777000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00707070700700000070707070070000007070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07070700007770000707070000777000007070707007000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700077000000070070007700000070707000077700000000000000000000000000000000000000000000000000000000000000000000000000000000000
07077077777000000707707777700000007007000770000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07070077777770000707007777777000070770777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000000000000070000000000000070700777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000077777707000000007777770700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00007077777700000000707777770000000070777070000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00007000000000000000700000000000000070000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000077777770000000007777770000000000707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000070000000000000000000070000000000707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000030502040000000000000000000000000305010305000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000130011001300000011111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000011111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000011000000000000000200111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000013002400001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000003121212123000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000003221212121212121230013000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000032222222222222220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000322222222222222300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000322222222222230000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000032222222222300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000322222222200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
